## 白嫖各平台算力的奇淫巧计

先说明类似文章都具有时效性，随着AI行业的内卷，从事深度学习领域的人也越来越多，各平台的免费算力肯定也会枯竭，不会一直给你提供免费算力支持的。本文编辑时间2021-12-19，请谨慎参考且嫖且珍惜。

[TOC]

### 0、kaggle：

目前kaggle的注册用户都可以有每周40小时的免费gpu使用时长，之前注册kaggle需要谷歌账号，现在随便一个邮箱都可以注册，填好手机号输入验证码即可，多个手机号应该可以注册多个账号，可以有更多的使用时长。使用方法基本跟原生的jupyter一样，但是每次实例都是一个新的容器，如果使用额外的第三方包需要每次都安装一边或者将本地的包打包随数据集上传，将包的路径配置好即可。

```python
import sys

pkg_path = r"/kaggle/input/<your package path>"
sys.path.insert(0, pkg_path)
```

需要注意的是1、kaggle可以编辑version挂后台跑，可以关闭浏览器，后台运行只有等模型跑完才能查看日志；2、cpu总的使用时长不限，但cpu、gpu单次任务时长不能超过9小时，9小时跑不完直接停掉可能日志都无法保存完整，如果模型较大可以把epoch调小分多次跑，每次跑完自动保存模型；3、使用完及时关闭资源，一个是不浪费使用时长，再就是不浪费资源。

### 1、阿里天池TCC平台：

[零基础入门Docker-cuda练习场【免费GPU】](https://tianchi.aliyun.com/competition/entrance/531863/introduction)

这个方法属于进阶方法，需要一点docker知识，跟着他的简单入门教程做就可以。总的来说就是将我们的模型打包好做成镜像传给他这个平台，阿里的平台会给你计算并返回最后的日志，该平台的容器内是没有网络环境的，计算好的模型没办法通过挂载远端的volume输出出来，我通常使用该平台做实验，搜超参数，打印训练日志。

需要注意的是1、每天有三次提交机会，每次运行时长不限（应该是24小时内）；2、每次打包好镜像的时候在本地开容器试着跑一跑，提交了跑不通的代码白白浪费一次机会；3、日志只保存一千行（后一千行）注意控制日志的量；4、一定要配置好镜像的环境，平台容器是没有网络环境的，任何需要下载或网络的操作都不行；5、该方法不是钻平台空子，也是平台所鼓励的还能顺便学学使用docker；

![微信截图_20211219115251](https://s2.loli.net/2021/12/19/WLcEPenufT38joF.png)

6、除此之外运行结束后会发邮件提醒运行状态，方便及时查看训练情况（会有一定的时延）。

### 2、其他：

白嫖届比较出名的Google Colaboratory有免费版，使用方法跟kaggle大致相同，但是免费版不支持离线后台跑，还会经常断开连接。

百度飞桨，据说该平台的算力资源比较好，算力优惠卷也比较容易领到但是仅支持paddle平台的代码，检测到使用torch或tensorflow会直接停掉。

阿里天池实验室，cpu随便用，gpu需要排队，我是没排到过。使用方法类似kaggle、Colaboratory。

### 3、总结：

|          |   kaggle   |   天池TCC    | Colaboratory |
| :------: | :--------: | :----------: | :----------: |
| 算力资源 |    P100    | V100 / P100  |     k80      |
|   显存   |    16G     |     16G      |     11G      |
| 使用时长 | 40 小时/周 | 每天三次提交 |  没怎么用过  |
| 科学上网 |   False    |    False     |     True     |

Colaboratory花钱还是能分到好卡的，每月9.9美金的pro版会员，但是花钱还怎么算白嫖呢？kaggle和天池TCC才算得上真正意义的白嫖，这些卡加实验室的卡也差不多勉强够用了，paddle平台的也可以试试百度飞浆平台据说也不错。总的来说还是应该合理利用资源和工具，以docker为例，搞明白镜像、容器仓库之间的关系，会用docker的常用操作即可，我们不是专门的开发岗，有的放矢的使用工具才会事半功倍否则事倍功半，使用工具的过程中有余力再进行更深入的学习。学习过程中不要被硬件、工具所奴役，工具就是工具，工具后面的人如果没有灵魂再好的服务器到手里都是废铁一块，所以说先不要羡慕和攀比大实验室好的设备，目前手头上的设备我们发挥了几成效力？从白嫖开始，榨干我们手中的资源，并合理利用他们。

> 走走走，游游游，我不学无术不发愁……天南地北混饭吃，坑蒙拐骗最拿手……

